<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ãƒ€ã‚¤ãƒ“ãƒ³ã‚°å±¥æ­´ç®¡ç† | Dive Buddy'sä¼šå“¡ã‚·ã‚¹ãƒ†ãƒ </title>
    <meta name="description" content="Dive Buddy'sãƒ€ã‚¤ãƒ“ãƒ³ã‚°å±¥æ­´ç®¡ç†ã€‚ãƒ€ã‚¤ãƒ–ãƒ­ã‚°è¨˜éŒ²ã€ãƒ©ã‚¤ã‚»ãƒ³ã‚¹ç®¡ç†ã€çµ±è¨ˆæƒ…å ±ã‚’ç¢ºèªã§ãã¾ã™ã€‚">
    
    <!-- çµ±ä¸€ãƒ‡ã‚¶ã‚¤ãƒ³ã‚·ã‚¹ãƒ†ãƒ  -->
    <link rel="stylesheet" href="/css/design-system.css">
    <link rel="stylesheet" href="/app/v28-styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@300;400;500;700&display=swap" rel="stylesheet">
    
    <style>
        .diving-page {
            background: #f8f9ff;
            min-height: 100vh;
        }

        .diving-header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 80px 0 40px;
            position: relative;
        }

        .diving-nav {
            display: flex;
            justify-content: center;
            gap: 2rem;
            margin-bottom: 2rem;
        }

        .nav-tab {
            padding: 12px 24px;
            background: rgba(255, 255, 255, 0.1);
            color: white;
            text-decoration: none;
            border-radius: 25px;
            font-weight: 500;
            transition: all 0.3s ease;
            border: 2px solid transparent;
        }

        .nav-tab.active {
            background: white;
            color: #667eea;
            border-color: white;
        }

        .nav-tab:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: translateY(-2px);
        }

        .nav-tab.active:hover {
            background: white;
            color: #667eea;
        }

        .diving-container {
            max-width: 1200px;
            margin: -40px auto 0;
            padding: 0 1rem 4rem;
            position: relative;
            z-index: 2;
        }

        .diving-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 2rem;
            margin-bottom: 2rem;
        }

        .diving-card {
            background: white;
            border-radius: 20px;
            padding: 2rem;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
        }

        .card-header {
            display: flex;
            align-items: center;
            justify-content: between;
            margin-bottom: 2rem;
            padding-bottom: 1rem;
            border-bottom: 2px solid #f1f5f9;
        }

        .card-icon {
            width: 50px;
            height: 50px;
            background: linear-gradient(135deg, #667eea, #764ba2);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1.5rem;
            margin-right: 1rem;
        }

        .card-title h2 {
            font-size: 1.5rem;
            font-weight: 700;
            color: #1f2937;
            margin-bottom: 0.5rem;
        }

        .card-title p {
            color: #6b7280;
            margin: 0;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 1.5rem;
            margin-bottom: 2rem;
        }

        .stat-card {
            background: #f8f9ff;
            padding: 1.5rem;
            border-radius: 12px;
            text-align: center;
            border: 2px solid #e5e7eb;
            transition: all 0.3s ease;
        }

        .stat-card:hover {
            border-color: #667eea;
            transform: translateY(-2px);
        }

        .stat-number {
            font-size: 2.5rem;
            font-weight: 900;
            color: #667eea;
            display: block;
            margin-bottom: 0.5rem;
        }

        .stat-label {
            color: #6b7280;
            font-weight: 600;
            font-size: 0.9rem;
        }

        .dive-log-section {
            grid-column: 1 / -1;
        }

        .dive-log-header {
            display: flex;
            justify-content: between;
            align-items: center;
            margin-bottom: 2rem;
        }

        .add-dive-button {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 0.8rem 1.5rem;
            border-radius: 25px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .add-dive-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(102, 126, 234, 0.3);
        }

        .dive-log-list {
            display: grid;
            gap: 1rem;
        }

        .dive-log-item {
            background: white;
            border: 1px solid #e5e7eb;
            border-radius: 12px;
            padding: 1.5rem;
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .dive-log-item:hover {
            border-color: #667eea;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .dive-header {
            display: flex;
            justify-content: between;
            align-items: start;
            margin-bottom: 1rem;
        }

        .dive-title {
            font-weight: 700;
            color: #1f2937;
            font-size: 1.1rem;
            margin-bottom: 0.3rem;
        }

        .dive-date {
            color: #667eea;
            font-weight: 600;
            font-size: 0.9rem;
        }

        .dive-details {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: 1rem;
            margin-bottom: 1rem;
        }

        .dive-detail {
            text-align: center;
        }

        .detail-value {
            font-size: 1.2rem;
            font-weight: 700;
            color: #667eea;
            display: block;
        }

        .detail-label {
            font-size: 0.8rem;
            color: #6b7280;
            margin-top: 0.2rem;
        }

        .dive-notes {
            color: #6b7280;
            font-size: 0.9rem;
            line-height: 1.5;
            border-top: 1px solid #f3f4f6;
            padding-top: 1rem;
            margin-top: 1rem;
        }

        .license-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
        }

        .license-card {
            background: #f8f9ff;
            border: 2px solid #e5e7eb;
            border-radius: 12px;
            padding: 1.5rem;
            text-align: center;
            transition: all 0.3s ease;
        }

        .license-card.completed {
            border-color: #10b981;
            background: #ecfdf5;
        }

        .license-card:hover {
            transform: translateY(-2px);
        }

        .license-icon {
            width: 60px;
            height: 60px;
            background: linear-gradient(135deg, #667eea, #764ba2);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1.5rem;
            margin: 0 auto 1rem;
        }

        .license-card.completed .license-icon {
            background: linear-gradient(135deg, #10b981, #059669);
        }

        .license-name {
            font-weight: 700;
            color: #1f2937;
            margin-bottom: 0.5rem;
        }

        .license-date {
            color: #6b7280;
            font-size: 0.9rem;
        }

        .back-link {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            color: white;
            text-decoration: none;
            margin-bottom: 2rem;
            padding: 0.8rem 1.5rem;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 25px;
            transition: all 0.3s ease;
        }

        .back-link:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: translateX(-5px);
        }

        .empty-state {
            text-align: center;
            padding: 3rem 2rem;
            color: #6b7280;
        }

        .empty-state i {
            font-size: 4rem;
            margin-bottom: 1rem;
            color: #d1d5db;
        }

        .empty-state h3 {
            font-size: 1.3rem;
            margin-bottom: 1rem;
            color: #374151;
        }

        .empty-state p {
            font-size: 0.95rem;
            line-height: 1.5;
            margin-bottom: 2rem;
        }

        @media (max-width: 768px) {
            .diving-header {
                padding: 60px 0 20px;
            }

            .diving-nav {
                flex-direction: column;
                gap: 1rem;
                padding: 0 1rem;
            }

            .nav-tab {
                text-align: center;
            }

            .diving-grid {
                grid-template-columns: 1fr;
                gap: 1rem;
            }

            .stats-grid {
                grid-template-columns: repeat(2, 1fr);
            }

            .dive-details {
                grid-template-columns: repeat(2, 1fr);
            }
        }
    </style>
</head>
<body>
    <!-- ãƒ˜ãƒƒãƒ€ãƒ¼ -->
    <header class="main-header">
        <nav class="main-nav">
            <a href="/" class="main-logo">
                <h1>ğŸŒº Dive Buddy's</h1>
                <span>ä¼šå“¡ã‚·ã‚¹ãƒ†ãƒ </span>
            </a>
            
            <ul class="main-nav-menu">
                <li><a href="/">ãƒ›ãƒ¼ãƒ </a></li>
                <li><a href="/about">ã‚µãƒ¼ãƒ“ã‚¹</a></li>
                <li><a href="/member" class="active">ä¼šå“¡ã‚·ã‚¹ãƒ†ãƒ </a></li>
                <li><a href="/shops-database">ã‚·ãƒ§ãƒƒãƒ—DB</a></li>
                <li><a href="/travel-guide">æ—…è¡Œã‚¬ã‚¤ãƒ‰</a></li>
                <li><a href="/weather-ocean">æµ·æ³ãƒ»å¤©æ°—</a></li>
                <li><a href="/partners">ã‚·ãƒ§ãƒƒãƒ—å‘ã‘</a></li>
                <li><a href="/contact">ãŠå•ã„åˆã‚ã›</a></li>
            </ul>
            
            <div class="main-nav-buttons">
                <a href="https://line.me/ti/p/@2007331165" class="btn btn-primary btn-line-connect" target="_blank">
                    <i class="fab fa-line"></i> Jijiã«ç›¸è«‡
                </a>
            </div>
        </nav>
    </header>

    <!-- ãƒ€ã‚¤ãƒ“ãƒ³ã‚°å±¥æ­´ãƒ˜ãƒƒãƒ€ãƒ¼ -->
    <section class="diving-header">
        <div class="container">
            <a href="/member" class="back-link">
                <i class="fas fa-arrow-left"></i>
                ãƒã‚¤ãƒšãƒ¼ã‚¸ã«æˆ»ã‚‹
            </a>

            <nav class="diving-nav">
                <a href="/member/profile" class="nav-tab">
                    <i class="fas fa-user"></i> åŸºæœ¬æƒ…å ±
                </a>
                <a href="/member/profile/diving" class="nav-tab active">
                    <i class="fas fa-fish"></i> ãƒ€ã‚¤ãƒ“ãƒ³ã‚°çµŒé¨“
                </a>
                <a href="/member/profile/settings" class="nav-tab">
                    <i class="fas fa-cog"></i> ã‚¢ã‚«ã‚¦ãƒ³ãƒˆè¨­å®š
                </a>
            </nav>
        </div>
    </section>

    <!-- ãƒ€ã‚¤ãƒ“ãƒ³ã‚°å±¥æ­´ç®¡ç† -->
    <section class="diving-page">
        <div class="diving-container">
            <!-- çµ±è¨ˆã‚µãƒãƒªãƒ¼ -->
            <div class="stats-grid">
                <div class="stat-card">
                    <span class="stat-number" id="totalDives">12</span>
                    <div class="stat-label">ç·ãƒ€ã‚¤ãƒ–æ•°</div>
                </div>
                <div class="stat-card">
                    <span class="stat-number" id="maxDepth">32</span>
                    <div class="stat-label">æœ€å¤§æ·±åº¦ (m)</div>
                </div>
                <div class="stat-card">
                    <span class="stat-number" id="totalTime">720</span>
                    <div class="stat-label">ç·æ½œæ°´æ™‚é–“ (åˆ†)</div>
                </div>
            </div>

            <div class="diving-grid">
                <!-- ãƒ€ã‚¤ãƒ–ãƒ­ã‚° -->
                <div class="diving-card dive-log-section">
                    <div class="card-header">
                        <div style="display: flex; align-items: center;">
                            <div class="card-icon">
                                <i class="fas fa-book"></i>
                            </div>
                            <div>
                                <h2>ãƒ€ã‚¤ãƒ–ãƒ­ã‚°</h2>
                                <p>ã‚ãªãŸã®ãƒ€ã‚¤ãƒ“ãƒ³ã‚°è¨˜éŒ²</p>
                            </div>
                        </div>
                        <button class="add-dive-button" id="addDiveButton">
                            <i class="fas fa-plus"></i>
                            æ–°ã—ã„ãƒ€ã‚¤ãƒ–è¨˜éŒ²
                        </button>
                    </div>

                    <div class="dive-log-list" id="diveLogList">
                        <!-- ãƒ‡ãƒ¢ãƒ‡ãƒ¼ã‚¿ -->
                        <div class="dive-log-item">
                            <div class="dive-header">
                                <div>
                                    <div class="dive-title">çŸ³å£å³¶ - å·å¹³çŸ³å´ãƒãƒ³ã‚¿ã‚¹ã‚¯ãƒ©ãƒ³ãƒ–ãƒ«</div>
                                    <div class="dive-date">2025å¹´7æœˆ20æ—¥</div>
                                </div>
                                <div style="text-align: right;">
                                    <i class="fas fa-star" style="color: #fbbf24;"></i>
                                    <span style="color: #fbbf24; font-weight: 600;">5.0</span>
                                </div>
                            </div>
                            
                            <div class="dive-details">
                                <div class="dive-detail">
                                    <span class="detail-value">28m</span>
                                    <div class="detail-label">æœ€å¤§æ·±åº¦</div>
                                </div>
                                <div class="dive-detail">
                                    <span class="detail-value">45åˆ†</span>
                                    <div class="detail-label">æ½œæ°´æ™‚é–“</div>
                                </div>
                                <div class="dive-detail">
                                    <span class="detail-value">26Â°C</span>
                                    <div class="detail-label">æ°´æ¸©</div>
                                </div>
                                <div class="dive-detail">
                                    <span class="detail-value">20m</span>
                                    <div class="detail-label">é€æ˜åº¦</div>
                                </div>
                            </div>
                            
                            <div class="dive-notes">
                                å¿µé¡˜ã®ãƒãƒ³ã‚¿ã«é­é‡ï¼3åŒ¹ã®ãƒãƒ³ã‚¿ãŒã‚¯ãƒªãƒ¼ãƒ‹ãƒ³ã‚°ã‚¹ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã§æ—‹å›ã—ã¦ã„ã¾ã—ãŸã€‚é€æ˜åº¦ã‚‚æŠœç¾¤ã§ã€æœ€é«˜ã®ãƒ€ã‚¤ãƒ“ãƒ³ã‚°ã§ã—ãŸã€‚ã‚¬ã‚¤ãƒ‰ã®æ–¹ã‚‚è¦ªåˆ‡ã§ã€æ¬¡å›ã‚‚ãŠé¡˜ã„ã—ãŸã„ã§ã™ã€‚
                            </div>
                        </div>

                        <div class="dive-log-item">
                            <div class="dive-header">
                                <div>
                                    <div class="dive-title">å®®å¤å³¶ - é­”ç‹ã®å®®æ®¿</div>
                                    <div class="dive-date">2025å¹´6æœˆ15æ—¥</div>
                                </div>
                                <div style="text-align: right;">
                                    <i class="fas fa-star" style="color: #fbbf24;"></i>
                                    <span style="color: #fbbf24; font-weight: 600;">4.5</span>
                                </div>
                            </div>
                            
                            <div class="dive-details">
                                <div class="dive-detail">
                                    <span class="detail-value">18m</span>
                                    <div class="detail-label">æœ€å¤§æ·±åº¦</div>
                                </div>
                                <div class="dive-detail">
                                    <span class="detail-value">40åˆ†</span>
                                    <div class="detail-label">æ½œæ°´æ™‚é–“</div>
                                </div>
                                <div class="dive-detail">
                                    <span class="detail-value">25Â°C</span>
                                    <div class="detail-label">æ°´æ¸©</div>
                                </div>
                                <div class="dive-detail">
                                    <span class="detail-value">15m</span>
                                    <div class="detail-label">é€æ˜åº¦</div>
                                </div>
                            </div>
                            
                            <div class="dive-notes">
                                å®®å¤å³¶ã®åœ°å½¢ãƒ€ã‚¤ãƒ“ãƒ³ã‚°ã¯æœ¬å½“ã«ç´ æ™´ã‚‰ã—ã„ï¼å…‰ã®ã‚«ãƒ¼ãƒ†ãƒ³ãŒå¹»æƒ³çš„ã§ã€æ´çªŸå†…ã®é’ã„å…‰ã«æ„Ÿå‹•ã—ã¾ã—ãŸã€‚ä¸­æ€§æµ®åŠ›ã®ç·´ç¿’ã«ã‚‚ãªã‚Šã€ã‚¹ã‚­ãƒ«ã‚¢ãƒƒãƒ—ã‚’å®Ÿæ„Ÿã§ãã¾ã—ãŸã€‚
                            </div>
                        </div>

                        <div class="dive-log-item">
                            <div class="dive-header">
                                <div>
                                    <div class="dive-title">æ²–ç¸„æœ¬å³¶ - é’ã®æ´çªŸ</div>
                                    <div class="dive-date">2025å¹´5æœˆ10æ—¥</div>
                                </div>
                                <div style="text-align: right;">
                                    <i class="fas fa-star" style="color: #fbbf24;"></i>
                                    <span style="color: #fbbf24; font-weight: 600;">4.0</span>
                                </div>
                            </div>
                            
                            <div class="dive-details">
                                <div class="dive-detail">
                                    <span class="detail-value">12m</span>
                                    <div class="detail-label">æœ€å¤§æ·±åº¦</div>
                                </div>
                                <div class="dive-detail">
                                    <span class="detail-value">35åˆ†</span>
                                    <div class="detail-label">æ½œæ°´æ™‚é–“</div>
                                </div>
                                <div class="dive-detail">
                                    <span class="detail-value">24Â°C</span>
                                    <div class="detail-label">æ°´æ¸©</div>
                                </div>
                                <div class="dive-detail">
                                    <span class="detail-value">12m</span>
                                    <div class="detail-label">é€æ˜åº¦</div>
                                </div>
                            </div>
                            
                            <div class="dive-notes">
                                åˆã‚ã¦ã®é’ã®æ´çªŸä½“é¨“ã€‚ç¥ç§˜çš„ãªé’ã„å…‰ã«åŒ…ã¾ã‚Œã¦ã€ã¾ã‚‹ã§åˆ¥ä¸–ç•Œã«ã„ã‚‹ã‚ˆã†ã§ã—ãŸã€‚ç†±å¸¯é­šã‚‚ãŸãã•ã‚“ã„ã¦ã€å†™çœŸã‚‚ãŸãã•ã‚“æ’®ã‚Œã¾ã—ãŸã€‚åˆå¿ƒè€…ã«ã‚‚ãŠã™ã™ã‚ã®ãƒã‚¤ãƒ³ãƒˆã§ã™ã€‚
                            </div>
                        </div>
                    </div>
                </div>

                <!-- ãƒ©ã‚¤ã‚»ãƒ³ã‚¹ç®¡ç† -->
                <div class="diving-card">
                    <div class="card-header">
                        <div style="display: flex; align-items: center;">
                            <div class="card-icon">
                                <i class="fas fa-certificate"></i>
                            </div>
                            <div>
                                <h2>ãƒ©ã‚¤ã‚»ãƒ³ã‚¹</h2>
                                <p>å–å¾—æ¸ˆã¿èªå®šè¨¼</p>
                            </div>
                        </div>
                    </div>

                    <div class="license-grid">
                        <div class="license-card completed">
                            <div class="license-icon">
                                <i class="fas fa-check"></i>
                            </div>
                            <div class="license-name">ã‚ªãƒ¼ãƒ—ãƒ³ã‚¦ã‚©ãƒ¼ã‚¿ãƒ¼</div>
                            <div class="license-date">2024å¹´3æœˆå–å¾—</div>
                        </div>

                        <div class="license-card completed">
                            <div class="license-icon">
                                <i class="fas fa-check"></i>
                            </div>
                            <div class="license-name">ã‚¢ãƒ‰ãƒãƒ³ã‚¹</div>
                            <div class="license-date">2024å¹´8æœˆå–å¾—</div>
                        </div>

                        <div class="license-card">
                            <div class="license-icon">
                                <i class="fas fa-target"></i>
                            </div>
                            <div class="license-name">ãƒ¬ã‚¹ã‚­ãƒ¥ãƒ¼</div>
                            <div class="license-date">ç›®æ¨™</div>
                        </div>

                        <div class="license-card">
                            <div class="license-icon">
                                <i class="fas fa-graduation-cap"></i>
                            </div>
                            <div class="license-name">ãƒ€ã‚¤ãƒ–ãƒã‚¹ã‚¿ãƒ¼</div>
                            <div class="license-date">å°†æ¥ã®ç›®æ¨™</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- ãƒ•ãƒƒã‚¿ãƒ¼ -->
    <footer class="main-footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h3>ğŸŒº Dive Buddy'sä¼šå“¡ã‚·ã‚¹ãƒ†ãƒ </h3>
                    <p>ã‚ãªãŸã®ãƒ€ã‚¤ãƒ“ãƒ³ã‚°ãƒ©ã‚¤ãƒ•ã‚’JijiãŒã‚µãƒãƒ¼ãƒˆ</p>
                </div>
                
                <div class="footer-section">
                    <h3>ä¼šå“¡ã‚µãƒ¼ãƒ“ã‚¹</h3>
                    <ul>
                        <li><a href="/member">ãƒã‚¤ãƒšãƒ¼ã‚¸</a></li>
                        <li><a href="/member/profile">ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ç·¨é›†</a></li>
                        <li><a href="/member/points">ãƒã‚¤ãƒ³ãƒˆç®¡ç†</a></li>
                        <li><a href="/member/settings">è¨­å®š</a></li>
                    </ul>
                </div>
                
                <div class="footer-section">
                    <h3>ã‚µãƒãƒ¼ãƒˆ</h3>
                    <ul>
                        <li><a href="https://line.me/ti/p/@2007331165" target="_blank">LINE Botç›¸è«‡</a></li>
                        <li><a href="/contact">ãŠå•ã„åˆã‚ã›</a></li>
                        <li><a href="/help">ãƒ˜ãƒ«ãƒ—</a></li>
                        <li><a href="/legal">åˆ©ç”¨è¦ç´„</a></li>
                    </ul>
                </div>
                
                <div class="footer-section">
                    <h3>ãƒ€ã‚¤ãƒ“ãƒ³ã‚°æƒ…å ±</h3>
                    <ul>
                        <li><a href="/shops-database">ã‚·ãƒ§ãƒƒãƒ—DB</a></li>
                        <li><a href="/travel-guide">æ—…è¡Œã‚¬ã‚¤ãƒ‰</a></li>
                        <li><a href="/weather-ocean">æµ·æ³ãƒ»å¤©æ°—</a></li>
                        <li><a href="/diving-blog">ãƒ€ã‚¤ãƒ“ãƒ³ã‚°ãƒ–ãƒ­ã‚°</a></li>
                    </ul>
                </div>
            </div>
            
            <div class="footer-bottom">
                <p>&copy; 2025 Dive Buddy'sä¼šå“¡ã‚·ã‚¹ãƒ†ãƒ  - ã‚ãªãŸå°‚å±ã®ãƒ€ã‚¤ãƒ“ãƒ³ã‚°ãƒãƒ‡ã‚£</p>
            </div>
        </div>
    </footer>

    <script>
        class DivingHistoryManager {
            constructor() {
                this.init();
            }

            init() {
                this.setupEventListeners();
                this.loadDivingHistory();
                this.animateStats();
            }

            setupEventListeners() {
                // æ–°ã—ã„ãƒ€ã‚¤ãƒ–è¨˜éŒ²ãƒœã‚¿ãƒ³
                document.getElementById('addDiveButton').addEventListener('click', () => {
                    this.showAddDiveForm();
                });

                // ãƒ€ã‚¤ãƒ–ãƒ­ã‚°ã‚¢ã‚¤ãƒ†ãƒ ã‚¯ãƒªãƒƒã‚¯
                document.querySelectorAll('.dive-log-item').forEach(item => {
                    item.addEventListener('click', (e) => {
                        this.showDiveDetails(e.currentTarget);
                    });
                });
            }

            async loadDivingHistory() {
                try {
                    console.log('ğŸŠâ€â™‚ï¸ ãƒ€ã‚¤ãƒ“ãƒ³ã‚°å±¥æ­´ã‚’èª­ã¿è¾¼ã¿ä¸­...');
                    
                    const response = await fetch('/api/member/diving-history');
                    
                    if (response.ok) {
                        const data = await response.json();
                        this.updateDivingStats(data.stats || {});
                        this.renderDiveLog(data.dive_logs || []);
                        this.renderLicenses(data.licenses || []);
                    } else {
                        console.warn('ãƒ€ã‚¤ãƒ“ãƒ³ã‚°å±¥æ­´å–å¾—ã‚¨ãƒ©ãƒ¼');
                        // ãƒ‡ãƒ¢ãƒ‡ãƒ¼ã‚¿ã§ç¶™ç¶š
                    }
                } catch (error) {
                    console.error('ãƒ€ã‚¤ãƒ“ãƒ³ã‚°å±¥æ­´èª­ã¿è¾¼ã¿ã‚¨ãƒ©ãƒ¼:', error);
                    // ãƒ‡ãƒ¢ãƒ‡ãƒ¼ã‚¿ã§ç¶™ç¶š
                }
            }

            updateDivingStats(stats) {
                document.getElementById('totalDives').textContent = stats.total_dives || 12;
                document.getElementById('maxDepth').textContent = stats.max_depth || 32;
                document.getElementById('totalTime').textContent = stats.total_time || 720;
            }

            renderDiveLog(diveLogs) {
                const container = document.getElementById('diveLogList');
                
                if (diveLogs.length === 0) {
                    container.innerHTML = `
                        <div class="empty-state">
                            <i class="fas fa-fish"></i>
                            <h3>ã¾ã ãƒ€ã‚¤ãƒ–ãƒ­ã‚°ãŒã‚ã‚Šã¾ã›ã‚“</h3>
                            <p>æœ€åˆã®ãƒ€ã‚¤ãƒ“ãƒ³ã‚°è¨˜éŒ²ã‚’è¿½åŠ ã—ã¦ã€<br>ã‚ãªãŸã®æ°´ä¸­ã‚¢ãƒ‰ãƒ™ãƒ³ãƒãƒ£ãƒ¼ã‚’è¨˜éŒ²ã—ã¾ã—ã‚‡ã†ï¼</p>
                            <button class="add-dive-button" onclick="window.divingManager.showAddDiveForm()">
                                <i class="fas fa-plus"></i>
                                åˆå›ãƒ€ã‚¤ãƒ–è¨˜éŒ²ã‚’è¿½åŠ 
                            </button>
                        </div>
                    `;
                    return;
                }

                // å®Ÿéš›ã®ãƒ‡ãƒ¼ã‚¿ã§ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°
                // ç¾åœ¨ã¯ãƒ‡ãƒ¢ãƒ‡ãƒ¼ã‚¿ã‚’ä½¿ç”¨
            }

            renderLicenses(licenses) {
                // ãƒ©ã‚¤ã‚»ãƒ³ã‚¹æƒ…å ±ã®ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°
                // ç¾åœ¨ã¯ãƒ‡ãƒ¢ãƒ‡ãƒ¼ã‚¿ã‚’ä½¿ç”¨
            }

            showAddDiveForm() {
                // ãƒ€ã‚¤ãƒ–è¨˜éŒ²è¿½åŠ ãƒ•ã‚©ãƒ¼ãƒ ã‚’è¡¨ç¤º
                alert('ãƒ€ã‚¤ãƒ–è¨˜éŒ²è¿½åŠ ãƒ•ã‚©ãƒ¼ãƒ ã¯è¿‘æ—¥å®Ÿè£…äºˆå®šã§ã™ï¼\n\nè¿½åŠ äºˆå®šæ©Ÿèƒ½:\nâ€¢ æ½œæ°´åœ°ç‚¹ã®é¸æŠ\nâ€¢ æ·±åº¦ãƒ»æ™‚é–“ã®è¨˜éŒ²\nâ€¢ æ°´æ¸©ãƒ»é€æ˜åº¦ã®è¨˜éŒ²\nâ€¢ å†™çœŸã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰\nâ€¢ ãƒ¡ãƒ¢ãƒ»è©•ä¾¡ã®è¿½åŠ ');
            }

            showDiveDetails(diveElement) {
                const title = diveElement.querySelector('.dive-title').textContent;
                const date = diveElement.querySelector('.dive-date').textContent;
                const notes = diveElement.querySelector('.dive-notes').textContent;
                
                alert(`ğŸ“‹ ãƒ€ã‚¤ãƒ–è©³ç´°\n\n${title}\n${date}\n\n${notes}`);
            }

            animateStats() {
                // çµ±è¨ˆæ•°å­—ã®ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³
                document.querySelectorAll('.stat-number').forEach(stat => {
                    const target = parseInt(stat.textContent);
                    this.animateNumber(stat, target, 1500);
                });
            }

            animateNumber(element, target, duration) {
                const start = 0;
                const startTime = performance.now();
                
                function update(currentTime) {
                    const elapsed = currentTime - startTime;
                    const progress = Math.min(elapsed / duration, 1);
                    
                    const easeOut = 1 - Math.pow(1 - progress, 3);
                    const current = Math.round(start + (target - start) * easeOut);
                    
                    element.textContent = current;
                    
                    if (progress < 1) {
                        requestAnimationFrame(update);
                    }
                }
                
                requestAnimationFrame(update);
            }
        }

        // åˆæœŸåŒ–
        document.addEventListener('DOMContentLoaded', () => {
            window.divingManager = new DivingHistoryManager();
        });
    </script>
</body>
</html>