<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æµ·æ³ãƒ»å¤©æ°—ãƒ‡ãƒ¼ã‚¿çµ±åˆAPI | Jiji Weather System</title>
    <meta name="description" content="ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æµ·æ³ãƒ»å¤©æ°—ãƒ‡ãƒ¼ã‚¿çµ±åˆã‚·ã‚¹ãƒ†ãƒ ã€‚æ°—è±¡åºAPIã€æµ·ä¸Šä¿å®‰åºãƒ‡ãƒ¼ã‚¿ã€ãƒ€ã‚¤ãƒ“ãƒ³ã‚°å°‚ç”¨æŒ‡æ¨™ã‚’çµ±åˆæä¾›ã€‚">
    
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@300;400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="stylesheet" href="../app/v28-styles.css">
    
    <style>
        .weather-api-header {
            background: linear-gradient(135deg, #0369a1 0%, #0284c7 100%);
            color: white;
            padding: 80px 0 60px;
        }
        
        .api-overview {
            display: flex;
            align-items: center;
            gap: 30px;
            margin-bottom: 40px;
        }
        
        .api-icon {
            width: 80px;
            height: 80px;
            background: rgba(255,255,255,0.2);
            border-radius: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2rem;
            border: 3px solid rgba(255,255,255,0.3);
        }
        
        .api-details h1 {
            font-size: 2rem;
            margin-bottom: 10px;
        }
        
        .api-status {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            padding: 8px 16px;
            border-radius: 20px;
            background: linear-gradient(135deg, #10b981, #059669);
            font-weight: 600;
            font-size: 0.9rem;
        }
        
        .data-sources {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 30px;
            margin-top: 30px;
        }
        
        .source-item {
            text-align: center;
            background: rgba(255,255,255,0.1);
            padding: 25px;
            border-radius: 12px;
        }
        
        .source-name {
            font-size: 1rem;
            font-weight: 600;
            margin-bottom: 8px;
        }
        
        .source-status {
            font-size: 0.9rem;
            opacity: 0.9;
            margin-bottom: 5px;
        }
        
        .source-latency {
            font-size: 0.8rem;
            opacity: 0.8;
        }
        
        .status-online { color: #10b981; }
        .status-warning { color: #f59e0b; }
        .status-offline { color: #ef4444; }
        
        .weather-content {
            padding: 80px 0;
            background: #f0f9ff;
        }
        
        .weather-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(450px, 1fr));
            gap: 30px;
            margin-top: 40px;
        }
        
        .weather-card {
            background: white;
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
            transition: transform 0.3s ease;
        }
        
        .weather-card:hover {
            transform: translateY(-5px);
        }
        
        .card-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 25px;
            padding-bottom: 15px;
            border-bottom: 2px solid #f1f5f9;
        }
        
        .card-title {
            display: flex;
            align-items: center;
            gap: 12px;
            font-size: 1.3rem;
            font-weight: 700;
            color: #1f2937;
        }
        
        .card-icon {
            font-size: 1.5rem;
            color: #0369a1;
        }
        
        .refresh-btn {
            padding: 6px 12px;
            background: #0369a1;
            color: white;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-size: 0.8rem;
            transition: background 0.3s ease;
        }
        
        .refresh-btn:hover {
            background: #0284c7;
        }
        
        .refresh-btn.loading {
            background: #94a3b8;
            cursor: not-allowed;
        }
        
        /* ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ãƒ‡ãƒ¼ã‚¿è¡¨ç¤º */
        .realtime-data {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
            margin-bottom: 20px;
        }
        
        .data-point {
            text-align: center;
            padding: 15px;
            background: #f8fafc;
            border-radius: 8px;
            position: relative;
        }
        
        .data-point.updating {
            animation: pulse 1.5s infinite;
        }
        
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.7; }
        }
        
        .data-value {
            font-size: 1.5rem;
            font-weight: 700;
            color: #0369a1;
            margin-bottom: 5px;
        }
        
        .data-label {
            font-size: 0.9rem;
            color: #6b7280;
            margin-bottom: 3px;
        }
        
        .data-time {
            font-size: 0.7rem;
            color: #9ca3af;
        }
        
        .data-trend {
            position: absolute;
            top: 5px;
            right: 5px;
            font-size: 0.8rem;
        }
        
        .trend-up { color: #10b981; }
        .trend-down { color: #ef4444; }
        .trend-stable { color: #6b7280; }
        
        /* API ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆè¡¨ç¤º */
        .api-endpoint {
            background: #1f2937;
            color: #e5e7eb;
            padding: 15px;
            border-radius: 8px;
            font-family: 'Monaco', 'Menlo', monospace;
            font-size: 0.9rem;
            margin-bottom: 15px;
            position: relative;
        }
        
        .copy-btn {
            position: absolute;
            top: 10px;
            right: 10px;
            padding: 4px 8px;
            background: #374151;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 0.7rem;
        }
        
        .copy-btn:hover {
            background: #4b5563;
        }
        
        /* ã‚¢ãƒ©ãƒ¼ãƒˆè¨­å®š */
        .alert-config {
            background: #fef3c7;
            border: 2px solid #f59e0b;
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 20px;
        }
        
        .alert-title {
            color: #92400e;
            font-weight: 700;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .alert-settings {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
        }
        
        .alert-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px;
            background: white;
            border-radius: 6px;
        }
        
        .alert-label {
            font-size: 0.9rem;
            color: #374151;
        }
        
        .alert-toggle {
            width: 40px;
            height: 20px;
            background: #d1d5db;
            border-radius: 10px;
            position: relative;
            cursor: pointer;
            transition: background 0.3s ease;
        }
        
        .alert-toggle.active {
            background: #10b981;
        }
        
        .alert-toggle::after {
            content: '';
            position: absolute;
            top: 2px;
            left: 2px;
            width: 16px;
            height: 16px;
            background: white;
            border-radius: 50%;
            transition: transform 0.3s ease;
        }
        
        .alert-toggle.active::after {
            transform: translateX(20px);
        }
        
        /* äºˆæ¸¬ãƒ‡ãƒ¼ã‚¿è¡¨ç¤º */
        .forecast-timeline {
            display: flex;
            gap: 10px;
            overflow-x: auto;
            padding: 10px 0;
            margin-bottom: 20px;
        }
        
        .forecast-item {
            min-width: 120px;
            padding: 15px;
            background: #f8fafc;
            border-radius: 8px;
            text-align: center;
            border: 2px solid transparent;
            transition: border-color 0.3s ease;
        }
        
        .forecast-item:hover {
            border-color: #0369a1;
        }
        
        .forecast-time {
            font-size: 0.8rem;
            color: #6b7280;
            margin-bottom: 8px;
        }
        
        .forecast-icon {
            font-size: 1.5rem;
            margin-bottom: 8px;
        }
        
        .forecast-temp {
            font-weight: 600;
            color: #1f2937;
            margin-bottom: 5px;
        }
        
        .forecast-conditions {
            font-size: 0.8rem;
            color: #6b7280;
        }
        
        /* ãƒ‡ãƒ¼ã‚¿å“è³ªã‚¤ãƒ³ã‚¸ã‚±ãƒ¼ã‚¿ãƒ¼ */
        .quality-indicator {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 20px;
        }
        
        .quality-label {
            font-size: 0.9rem;
            color: #374151;
        }
        
        .quality-bar {
            flex: 1;
            height: 8px;
            background: #e5e7eb;
            border-radius: 4px;
            overflow: hidden;
        }
        
        .quality-fill {
            height: 100%;
            background: linear-gradient(135deg, #10b981, #059669);
            width: 92%;
            transition: width 0.3s ease;
        }
        
        .quality-percentage {
            font-size: 0.8rem;
            color: #10b981;
            font-weight: 600;
        }
        
        /* ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ãƒ‡ã‚¶ã‚¤ãƒ³ */
        @media (max-width: 768px) {
            .api-overview {
                flex-direction: column;
                text-align: center;
                gap: 20px;
            }
            
            .data-sources {
                grid-template-columns: repeat(2, 1fr);
                gap: 15px;
            }
            
            .weather-grid {
                grid-template-columns: 1fr;
                gap: 20px;
            }
            
            .realtime-data {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .alert-settings {
                grid-template-columns: 1fr;
            }
            
            .forecast-timeline {
                gap: 5px;
            }
            
            .forecast-item {
                min-width: 100px;
                padding: 10px;
            }
        }
    </style>
</head>
<body>
    <!-- ãƒ˜ãƒƒãƒ€ãƒ¼ -->
    <header class="main-header">
        <nav class="main-nav">
            <a href="/" class="main-logo">
                <h1>ğŸŒŠ Jiji</h1>
                <span>Weather API</span>
            </a>
            
            <ul class="main-nav-menu">
                <li><a href="/weather-ocean">æµ·æ³ãƒ»å¤©æ°—</a></li>
                <li><a href="/api/weather-integration" class="active">APIçµ±åˆ</a></li>
                <li><a href="/admin/analytics">ãƒ‡ãƒ¼ã‚¿åˆ†æ</a></li>
                <li><a href="/admin/monitoring">ã‚·ã‚¹ãƒ†ãƒ ç›£è¦–</a></li>
                <li><a href="/admin/settings">è¨­å®š</a></li>
            </ul>
            
            <div class="main-nav-buttons">
                <a href="/api/documentation" class="btn btn-primary">
                    <i class="fas fa-book"></i> APIæ–‡æ›¸
                </a>
            </div>
        </nav>
    </header>

    <!-- å¤©æ°—APIçµ±åˆãƒ˜ãƒƒãƒ€ãƒ¼ -->
    <section class="weather-api-header">
        <div class="container">
            <div class="api-overview">
                <div class="api-icon">
                    ğŸŒ¡ï¸
                </div>
                <div class="api-details">
                    <h1>æµ·æ³ãƒ»å¤©æ°—ãƒ‡ãƒ¼ã‚¿çµ±åˆã‚·ã‚¹ãƒ†ãƒ </h1>
                    <div class="api-status">
                        <i class="fas fa-check-circle"></i>
                        å…¨ã‚·ã‚¹ãƒ†ãƒ æ­£å¸¸ç¨¼åƒä¸­
                    </div>
                </div>
            </div>
            
            <div class="data-sources">
                <div class="source-item">
                    <div class="source-name">æ°—è±¡åºAPI</div>
                    <div class="source-status status-online">â— ã‚ªãƒ³ãƒ©ã‚¤ãƒ³</div>
                    <div class="source-latency">ãƒ¬ã‚¹ãƒãƒ³ã‚¹: 120ms</div>
                </div>
                <div class="source-item">
                    <div class="source-name">æµ·ä¸Šä¿å®‰åº</div>
                    <div class="source-status status-online">â— ã‚ªãƒ³ãƒ©ã‚¤ãƒ³</div>
                    <div class="source-latency">ãƒ¬ã‚¹ãƒãƒ³ã‚¹: 85ms</div>
                </div>
                <div class="source-item">
                    <div class="source-name">ãƒ€ã‚¤ãƒ“ãƒ³ã‚°æŒ‡æ¨™</div>
                    <div class="source-status status-online">â— ã‚ªãƒ³ãƒ©ã‚¤ãƒ³</div>
                    <div class="source-latency">æ›´æ–°: 15åˆ†ã”ã¨</div>
                </div>
                <div class="source-item">
                    <div class="source-name">æ½®æ±ãƒ‡ãƒ¼ã‚¿</div>
                    <div class="source-status status-warning">âš  é…å»¶</div>
                    <div class="source-latency">ãƒ¬ã‚¹ãƒãƒ³ã‚¹: 340ms</div>
                </div>
                <div class="source-item">
                    <div class="source-name">è¡›æ˜Ÿç”»åƒ</div>
                    <div class="source-status status-online">â— ã‚ªãƒ³ãƒ©ã‚¤ãƒ³</div>
                    <div class="source-latency">æ›´æ–°: 30åˆ†ã”ã¨</div>
                </div>
            </div>
        </div>
    </section>

    <!-- å¤©æ°—ãƒ‡ãƒ¼ã‚¿çµ±åˆã‚³ãƒ³ãƒ†ãƒ³ãƒ„ -->
    <section class="weather-content">
        <div class="container">
            <h2 class="section-title">ğŸ”„ ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ãƒ‡ãƒ¼ã‚¿çµ±åˆ</h2>
            <p class="section-subtitle">
                è¤‡æ•°ã®ãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹ã‹ã‚‰çµ±åˆã•ã‚ŒãŸãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æµ·æ³ãƒ»å¤©æ°—æƒ…å ±
            </p>
            
            <div class="weather-grid">
                <!-- ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æµ·æ³ãƒ‡ãƒ¼ã‚¿ -->
                <div class="weather-card">
                    <div class="card-header">
                        <div class="card-title">
                            <i class="fas fa-water card-icon"></i>
                            ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æµ·æ³ãƒ‡ãƒ¼ã‚¿
                        </div>
                        <button class="refresh-btn" onclick="refreshSeaConditions()">
                            <i class="fas fa-sync-alt"></i> æ›´æ–°
                        </button>
                    </div>
                    
                    <div class="quality-indicator">
                        <span class="quality-label">ãƒ‡ãƒ¼ã‚¿å“è³ª:</span>
                        <div class="quality-bar">
                            <div class="quality-fill"></div>
                        </div>
                        <span class="quality-percentage">92%</span>
                    </div>
                    
                    <div class="realtime-data" id="sea-conditions">
                        <div class="data-point">
                            <div class="data-trend trend-up">â†‘</div>
                            <div class="data-value">1.2m</div>
                            <div class="data-label">æ³¢é«˜</div>
                            <div class="data-time">2åˆ†å‰æ›´æ–°</div>
                        </div>
                        <div class="data-point">
                            <div class="data-trend trend-stable">â†’</div>
                            <div class="data-value">25m</div>
                            <div class="data-label">é€æ˜åº¦</div>
                            <div class="data-time">5åˆ†å‰æ›´æ–°</div>
                        </div>
                        <div class="data-point">
                            <div class="data-trend trend-down">â†“</div>
                            <div class="data-value">åŒ—æ±</div>
                            <div class="data-label">é¢¨å‘</div>
                            <div class="data-time">1åˆ†å‰æ›´æ–°</div>
                        </div>
                        <div class="data-point">
                            <div class="data-trend trend-up">â†‘</div>
                            <div class="data-value">4m/s</div>
                            <div class="data-label">é¢¨é€Ÿ</div>
                            <div class="data-time">1åˆ†å‰æ›´æ–°</div>
                        </div>
                        <div class="data-point">
                            <div class="data-trend trend-stable">â†’</div>
                            <div class="data-value">26Â°C</div>
                            <div class="data-label">æ°´æ¸©</div>
                            <div class="data-time">3åˆ†å‰æ›´æ–°</div>
                        </div>
                        <div class="data-point">
                            <div class="data-trend trend-stable">â†’</div>
                            <div class="data-value">1013</div>
                            <div class="data-label">æ°—åœ§ (hPa)</div>
                            <div class="data-time">2åˆ†å‰æ›´æ–°</div>
                        </div>
                    </div>
                    
                    <div class="api-endpoint">
                        GET /api/v1/sea-conditions/realtime
                        <button class="copy-btn" onclick="copyToClipboard('/api/v1/sea-conditions/realtime')">ã‚³ãƒ”ãƒ¼</button>
                    </div>
                </div>

                <!-- æ°—è±¡ãƒ‡ãƒ¼ã‚¿ -->
                <div class="weather-card">
                    <div class="card-header">
                        <div class="card-title">
                            <i class="fas fa-cloud-sun card-icon"></i>
                            æ°—è±¡ãƒ‡ãƒ¼ã‚¿çµ±åˆ
                        </div>
                        <button class="refresh-btn" onclick="refreshWeatherData()">
                            <i class="fas fa-sync-alt"></i> æ›´æ–°
                        </button>
                    </div>
                    
                    <div class="realtime-data" id="weather-data">
                        <div class="data-point">
                            <div class="data-trend trend-up">â†‘</div>
                            <div class="data-value">28Â°C</div>
                            <div class="data-label">æ°—æ¸©</div>
                            <div class="data-time">ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ </div>
                        </div>
                        <div class="data-point">
                            <div class="data-trend trend-stable">â†’</div>
                            <div class="data-value">65%</div>
                            <div class="data-label">æ¹¿åº¦</div>
                            <div class="data-time">1åˆ†å‰æ›´æ–°</div>
                        </div>
                        <div class="data-point">
                            <div class="data-trend trend-down">â†“</div>
                            <div class="data-value">12km</div>
                            <div class="data-label">è¦–ç¨‹</div>
                            <div class="data-time">5åˆ†å‰æ›´æ–°</div>
                        </div>
                        <div class="data-point">
                            <div class="data-trend trend-stable">â†’</div>
                            <div class="data-value">0%</div>
                            <div class="data-label">é™æ°´ç¢ºç‡</div>
                            <div class="data-time">30åˆ†å‰æ›´æ–°</div>
                        </div>
                        <div class="data-point">
                            <div class="data-trend trend-up">â†‘</div>
                            <div class="data-value">8</div>
                            <div class="data-label">UVæŒ‡æ•°</div>
                            <div class="data-time">10åˆ†å‰æ›´æ–°</div>
                        </div>
                        <div class="data-point">
                            <div class="data-trend trend-stable">â†’</div>
                            <div class="data-value">æ™´ã‚Œ</div>
                            <div class="data-label">å¤©æ°—</div>
                            <div class="data-time">ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ </div>
                        </div>
                    </div>
                    
                    <div class="api-endpoint">
                        GET /api/v1/weather/current?area=ishigaki
                        <button class="copy-btn" onclick="copyToClipboard('/api/v1/weather/current?area=ishigaki')">ã‚³ãƒ”ãƒ¼</button>
                    </div>
                </div>

                <!-- ãƒ€ã‚¤ãƒ“ãƒ³ã‚°é©æ€§æŒ‡æ¨™ -->
                <div class="weather-card">
                    <div class="card-header">
                        <div class="card-title">
                            <i class="fas fa-swimming-pool card-icon"></i>
                            ãƒ€ã‚¤ãƒ“ãƒ³ã‚°é©æ€§æŒ‡æ¨™
                        </div>
                        <button class="refresh-btn" onclick="refreshDivingIndex()">
                            <i class="fas fa-sync-alt"></i> æ›´æ–°
                        </button>
                    </div>
                    
                    <div class="realtime-data" id="diving-index">
                        <div class="data-point">
                            <div class="data-trend trend-up">â†‘</div>
                            <div class="data-value">9.2</div>
                            <div class="data-label">ç·åˆã‚¹ã‚³ã‚¢</div>
                            <div class="data-time">è‡ªå‹•è¨ˆç®—</div>
                        </div>
                        <div class="data-point">
                            <div class="data-trend trend-stable">â†’</div>
                            <div class="data-value">æœ€é©</div>
                            <div class="data-label">åˆå¿ƒè€…é©æ€§</div>
                            <div class="data-time">è‡ªå‹•åˆ¤å®š</div>
                        </div>
                        <div class="data-point">
                            <div class="data-trend trend-up">â†‘</div>
                            <div class="data-value">8.7</div>
                            <div class="data-label">å®‰å…¨åº¦</div>
                            <div class="data-time">AIåˆ†æ</div>
                        </div>
                        <div class="data-point">
                            <div class="data-trend trend-stable">â†’</div>
                            <div class="data-value">è‰¯å¥½</div>
                            <div class="data-label">ç”Ÿç‰©é­é‡ç‡</div>
                            <div class="data-time">çµ±è¨ˆäºˆæ¸¬</div>
                        </div>
                        <div class="data-point">
                            <div class="data-trend trend-up">â†‘</div>
                            <div class="data-value">å„ªç§€</div>
                            <div class="data-label">æ’®å½±æ¡ä»¶</div>
                            <div class="data-time">å…‰å­¦è§£æ</div>
                        </div>
                        <div class="data-point">
                            <div class="data-trend trend-stable">â†’</div>
                            <div class="data-value">å¿«é©</div>
                            <div class="data-label">ä½“æ„ŸæŒ‡æ•°</div>
                            <div class="data-time">è¤‡åˆè¨ˆç®—</div>
                        </div>
                    </div>
                    
                    <div class="api-endpoint">
                        GET /api/v1/diving/suitability?area=ishigaki&level=beginner
                        <button class="copy-btn" onclick="copyToClipboard('/api/v1/diving/suitability?area=ishigaki&level=beginner')">ã‚³ãƒ”ãƒ¼</button>
                    </div>
                </div>

                <!-- äºˆæ¸¬ãƒ‡ãƒ¼ã‚¿ -->
                <div class="weather-card">
                    <div class="card-header">
                        <div class="card-title">
                            <i class="fas fa-crystal-ball card-icon"></i>
                            48æ™‚é–“äºˆæ¸¬ãƒ‡ãƒ¼ã‚¿
                        </div>
                        <button class="refresh-btn" onclick="refreshForecast()">
                            <i class="fas fa-sync-alt"></i> æ›´æ–°
                        </button>
                    </div>
                    
                    <div class="forecast-timeline" id="forecast-timeline">
                        <div class="forecast-item">
                            <div class="forecast-time">ä»Šæ—¥ 15:00</div>
                            <div class="forecast-icon">â˜€ï¸</div>
                            <div class="forecast-temp">28Â°C</div>
                            <div class="forecast-conditions">æœ€é©</div>
                        </div>
                        <div class="forecast-item">
                            <div class="forecast-time">ä»Šæ—¥ 18:00</div>
                            <div class="forecast-icon">ğŸŒ¤ï¸</div>
                            <div class="forecast-temp">27Â°C</div>
                            <div class="forecast-conditions">è‰¯å¥½</div>
                        </div>
                        <div class="forecast-item">
                            <div class="forecast-time">æ˜æ—¥ 06:00</div>
                            <div class="forecast-icon">ğŸŒ…</div>
                            <div class="forecast-temp">25Â°C</div>
                            <div class="forecast-conditions">æœ€é©</div>
                        </div>
                        <div class="forecast-item">
                            <div class="forecast-time">æ˜æ—¥ 12:00</div>
                            <div class="forecast-icon">â˜€ï¸</div>
                            <div class="forecast-temp">29Â°C</div>
                            <div class="forecast-conditions">æœ€é©</div>
                        </div>
                        <div class="forecast-item">
                            <div class="forecast-time">æ˜æ—¥ 18:00</div>
                            <div class="forecast-icon">â›…</div>
                            <div class="forecast-temp">28Â°C</div>
                            <div class="forecast-conditions">è‰¯å¥½</div>
                        </div>
                    </div>
                    
                    <div class="api-endpoint">
                        GET /api/v1/forecast/48h?area=ishigaki&include=diving_index
                        <button class="copy-btn" onclick="copyToClipboard('/api/v1/forecast/48h?area=ishigaki&include=diving_index')">ã‚³ãƒ”ãƒ¼</button>
                    </div>
                </div>

                <!-- ã‚¢ãƒ©ãƒ¼ãƒˆè¨­å®š -->
                <div class="weather-card">
                    <div class="card-header">
                        <div class="card-title">
                            <i class="fas fa-bell card-icon"></i>
                            ã‚¢ãƒ©ãƒ¼ãƒˆãƒ»é€šçŸ¥è¨­å®š
                        </div>
                    </div>
                    
                    <div class="alert-config">
                        <div class="alert-title">
                            <i class="fas fa-exclamation-triangle"></i>
                            ç·Šæ€¥ã‚¢ãƒ©ãƒ¼ãƒˆè¨­å®š
                        </div>
                        <div class="alert-settings">
                            <div class="alert-item">
                                <span class="alert-label">å°é¢¨æ¥è¿‘è­¦å ±</span>
                                <div class="alert-toggle active" onclick="toggleAlert(this)"></div>
                            </div>
                            <div class="alert-item">
                                <span class="alert-label">é«˜æ³¢æ³¨æ„å ±</span>
                                <div class="alert-toggle active" onclick="toggleAlert(this)"></div>
                            </div>
                            <div class="alert-item">
                                <span class="alert-label">å¼·é¢¨è­¦å ±</span>
                                <div class="alert-toggle active" onclick="toggleAlert(this)"></div>
                            </div>
                            <div class="alert-item">
                                <span class="alert-label">é›·é›¨è­¦å ±</span>
                                <div class="alert-toggle" onclick="toggleAlert(this)"></div>
                            </div>
                            <div class="alert-item">
                                <span class="alert-label">é€æ˜åº¦ä½ä¸‹è­¦å‘Š</span>
                                <div class="alert-toggle active" onclick="toggleAlert(this)"></div>
                            </div>
                            <div class="alert-item">
                                <span class="alert-label">æ°´æ¸©æ€¥å¤‰ã‚¢ãƒ©ãƒ¼ãƒˆ</span>
                                <div class="alert-toggle" onclick="toggleAlert(this)"></div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="api-endpoint">
                        POST /api/v1/alerts/configure
                        <button class="copy-btn" onclick="copyToClipboard('POST /api/v1/alerts/configure')">ã‚³ãƒ”ãƒ¼</button>
                    </div>
                </div>

                <!-- ãƒ‡ãƒ¼ã‚¿çµ±åˆçµ±è¨ˆ -->
                <div class="weather-card">
                    <div class="card-header">
                        <div class="card-title">
                            <i class="fas fa-chart-pie card-icon"></i>
                            ãƒ‡ãƒ¼ã‚¿çµ±åˆçµ±è¨ˆ
                        </div>
                    </div>
                    
                    <div class="realtime-data">
                        <div class="data-point">
                            <div class="data-value">99.7%</div>
                            <div class="data-label">ç¨¼åƒç‡</div>
                            <div class="data-time">éå»30æ—¥</div>
                        </div>
                        <div class="data-point">
                            <div class="data-value">127ms</div>
                            <div class="data-label">å¹³å‡ãƒ¬ã‚¹ãƒãƒ³ã‚¹</div>
                            <div class="data-time">ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ </div>
                        </div>
                        <div class="data-point">
                            <div class="data-value">28.4K</div>
                            <div class="data-label">ä»Šæ—¥ã®APIå‘¼ã³å‡ºã—</div>
                            <div class="data-time">ç´¯è¨ˆ</div>
                        </div>
                        <div class="data-point">
                            <div class="data-value">5</div>
                            <div class="data-label">ã‚¨ãƒªã‚¢å¯¾å¿œæ•°</div>
                            <div class="data-time">ç¾åœ¨</div>
                        </div>
                        <div class="data-point">
                            <div class="data-value">12</div>
                            <div class="data-label">ãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹</div>
                            <div class="data-time">çµ±åˆæ¸ˆã¿</div>
                        </div>
                        <div class="data-point">
                            <div class="data-value">3åˆ†</div>
                            <div class="data-label">æ›´æ–°é–“éš”</div>
                            <div class="data-time">æœ€çŸ­</div>
                        </div>
                    </div>
                    
                    <div class="api-endpoint">
                        GET /api/v1/system/stats
                        <button class="copy-btn" onclick="copyToClipboard('/api/v1/system/stats')">ã‚³ãƒ”ãƒ¼</button>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- ãƒ•ãƒƒã‚¿ãƒ¼ -->
    <footer class="main-footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h3>ğŸŒŠ Jiji Weather API</h3>
                    <p>çµ±åˆæµ·æ³ãƒ»å¤©æ°—ãƒ‡ãƒ¼ã‚¿ã‚·ã‚¹ãƒ†ãƒ </p>
                </div>
                
                <div class="footer-section">
                    <h3>API ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ</h3>
                    <ul>
                        <li><a href="/api/v1/weather/current">ç¾åœ¨ã®å¤©æ°—</a></li>
                        <li><a href="/api/v1/sea-conditions">æµ·æ³ãƒ‡ãƒ¼ã‚¿</a></li>
                        <li><a href="/api/v1/diving/suitability">ãƒ€ã‚¤ãƒ“ãƒ³ã‚°é©æ€§</a></li>
                        <li><a href="/api/v1/forecast">äºˆå ±ãƒ‡ãƒ¼ã‚¿</a></li>
                    </ul>
                </div>
                
                <div class="footer-section">
                    <h3>ãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹</h3>
                    <ul>
                        <li><a href="https://www.jma.go.jp/">æ°—è±¡åº</a></li>
                        <li><a href="https://www.kaiho.mlit.go.jp/">æµ·ä¸Šä¿å®‰åº</a></li>
                        <li><a href="/api/marine-data">æµ·æ´‹ãƒ‡ãƒ¼ã‚¿</a></li>
                        <li><a href="/api/satellite">è¡›æ˜Ÿç”»åƒ</a></li>
                    </ul>
                </div>
                
                <div class="footer-section">
                    <h3>é–‹ç™ºè€…å‘ã‘</h3>
                    <ul>
                        <li><a href="/api/documentation">APIæ–‡æ›¸</a></li>
                        <li><a href="/api/sdk">SDK ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰</a></li>
                        <li><a href="/api/examples">ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰</a></li>
                        <li><a href="/api/support">æŠ€è¡“ã‚µãƒãƒ¼ãƒˆ</a></li>
                    </ul>
                </div>
            </div>
            
            <div class="footer-bottom">
                <p>&copy; 2025 Jiji Weather API - æµ·æ³ãƒ»å¤©æ°—ãƒ‡ãƒ¼ã‚¿çµ±åˆã‚·ã‚¹ãƒ†ãƒ </p>
            </div>
        </div>
    </footer>

    <script>
        // å¤©æ°—ãƒ‡ãƒ¼ã‚¿çµ±åˆã‚·ã‚¹ãƒ†ãƒ åˆæœŸåŒ–
        document.addEventListener('DOMContentLoaded', function() {
            // ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ›´æ–°ã®é–‹å§‹
            startRealTimeUpdates();
            
            // WebSocketæ¥ç¶šã®åˆæœŸåŒ–
            initializeWebSocket();
            
            // ãƒ‡ãƒ¼ã‚¿å“è³ªç›£è¦–
            monitorDataQuality();
            
            // ã‚¢ãƒ©ãƒ¼ãƒˆè¨­å®šã®èª­ã¿è¾¼ã¿
            loadAlertSettings();
        });

        // ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ›´æ–°
        function startRealTimeUpdates() {
            // æµ·æ³ãƒ‡ãƒ¼ã‚¿ã®å®šæœŸæ›´æ–°
            setInterval(updateSeaConditions, 180000); // 3åˆ†ã”ã¨
            
            // æ°—è±¡ãƒ‡ãƒ¼ã‚¿ã®å®šæœŸæ›´æ–°
            setInterval(updateWeatherData, 300000); // 5åˆ†ã”ã¨
            
            // ãƒ€ã‚¤ãƒ“ãƒ³ã‚°æŒ‡æ¨™ã®å®šæœŸæ›´æ–°
            setInterval(updateDivingIndex, 900000); // 15åˆ†ã”ã¨
            
            // äºˆæ¸¬ãƒ‡ãƒ¼ã‚¿ã®å®šæœŸæ›´æ–°
            setInterval(updateForecastData, 1800000); // 30åˆ†ã”ã¨
        }

        // WebSocketæ¥ç¶šåˆæœŸåŒ–
        function initializeWebSocket() {
            const ws = new WebSocket('wss://api.jiji-diving.com/ws/weather');
            
            ws.onopen = function() {
                console.log('WebSocketæ¥ç¶šãŒç¢ºç«‹ã•ã‚Œã¾ã—ãŸ');
                subscribeToUpdates();
            };
            
            ws.onmessage = function(event) {
                const data = JSON.parse(event.data);
                handleRealTimeUpdate(data);
            };
            
            ws.onclose = function() {
                console.log('WebSocketæ¥ç¶šãŒé–‰ã˜ã‚‰ã‚Œã¾ã—ãŸã€‚å†æ¥ç¶šã‚’è©¦è¡Œä¸­...');
                setTimeout(initializeWebSocket, 5000);
            };
        }

        // ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ›´æ–°ã®å‡¦ç†
        function handleRealTimeUpdate(data) {
            switch(data.type) {
                case 'sea_conditions':
                    updateSeaConditionsDisplay(data.payload);
                    break;
                case 'weather':
                    updateWeatherDisplay(data.payload);
                    break;
                case 'diving_index':
                    updateDivingIndexDisplay(data.payload);
                    break;
                case 'alert':
                    showWeatherAlert(data.payload);
                    break;
                default:
                    console.log('ä¸æ˜ãªãƒ‡ãƒ¼ã‚¿ã‚¿ã‚¤ãƒ—:', data.type);
            }
        }

        // æµ·æ³ãƒ‡ãƒ¼ã‚¿æ›´æ–°
        function updateSeaConditions() {
            const seaData = document.getElementById('sea-conditions');
            seaData.classList.add('updating');
            
            // å®Ÿéš›ã®å®Ÿè£…ã§ã¯APIã‹ã‚‰ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—
            setTimeout(() => {
                // ã‚µãƒ³ãƒ—ãƒ«ãƒ‡ãƒ¼ã‚¿ã®æ›´æ–°
                updateDataPoint(seaData, 'æ³¢é«˜', `${(Math.random() * 2 + 0.5).toFixed(1)}m`);
                updateDataPoint(seaData, 'é€æ˜åº¦', `${Math.floor(Math.random() * 15 + 20)}m`);
                updateDataPoint(seaData, 'æ°´æ¸©', `${(Math.random() * 3 + 25).toFixed(1)}Â°C`);
                
                seaData.classList.remove('updating');
                updateTimestamp(seaData);
            }, 1000);
        }

        // æ°—è±¡ãƒ‡ãƒ¼ã‚¿æ›´æ–°
        function updateWeatherData() {
            const weatherData = document.getElementById('weather-data');
            weatherData.classList.add('updating');
            
            setTimeout(() => {
                updateDataPoint(weatherData, 'æ°—æ¸©', `${Math.floor(Math.random() * 5 + 26)}Â°C`);
                updateDataPoint(weatherData, 'æ¹¿åº¦', `${Math.floor(Math.random() * 20 + 60)}%`);
                updateDataPoint(weatherData, 'è¦–ç¨‹', `${Math.floor(Math.random() * 8 + 10)}km`);
                
                weatherData.classList.remove('updating');
                updateTimestamp(weatherData);
            }, 1200);
        }

        // ãƒ€ã‚¤ãƒ“ãƒ³ã‚°æŒ‡æ¨™æ›´æ–°
        function updateDivingIndex() {
            const divingData = document.getElementById('diving-index');
            divingData.classList.add('updating');
            
            setTimeout(() => {
                updateDataPoint(divingData, 'ç·åˆã‚¹ã‚³ã‚¢', (Math.random() * 2 + 8).toFixed(1));
                updateDataPoint(divingData, 'å®‰å…¨åº¦', (Math.random() * 1.5 + 8).toFixed(1));
                
                divingData.classList.remove('updating');
                updateTimestamp(divingData);
            }, 800);
        }

        // ãƒ‡ãƒ¼ã‚¿ãƒã‚¤ãƒ³ãƒˆæ›´æ–°
        function updateDataPoint(container, label, newValue) {
            const dataPoints = container.querySelectorAll('.data-point');
            dataPoints.forEach(point => {
                const labelElement = point.querySelector('.data-label');
                if (labelElement && labelElement.textContent === label) {
                    const valueElement = point.querySelector('.data-value');
                    if (valueElement) {
                        const oldValue = parseFloat(valueElement.textContent);
                        const newNumValue = parseFloat(newValue);
                        
                        valueElement.textContent = newValue;
                        
                        // ãƒˆãƒ¬ãƒ³ãƒ‰çŸ¢å°ã®æ›´æ–°
                        const trendElement = point.querySelector('.data-trend');
                        if (trendElement && !isNaN(oldValue) && !isNaN(newNumValue)) {
                            if (newNumValue > oldValue) {
                                trendElement.className = 'data-trend trend-up';
                                trendElement.textContent = 'â†‘';
                            } else if (newNumValue < oldValue) {
                                trendElement.className = 'data-trend trend-down';
                                trendElement.textContent = 'â†“';
                            } else {
                                trendElement.className = 'data-trend trend-stable';
                                trendElement.textContent = 'â†’';
                            }
                        }
                    }
                }
            });
        }

        // ã‚¿ã‚¤ãƒ ã‚¹ã‚¿ãƒ³ãƒ—æ›´æ–°
        function updateTimestamp(container) {
            const timeElements = container.querySelectorAll('.data-time');
            timeElements.forEach(element => {
                if (element.textContent.includes('å‰æ›´æ–°')) {
                    element.textContent = 'ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ';
                    setTimeout(() => {
                        element.textContent = '1åˆ†å‰æ›´æ–°';
                    }, 60000);
                }
            });
        }

        // æ‰‹å‹•æ›´æ–°ãƒœã‚¿ãƒ³
        function refreshSeaConditions() {
            showRefreshFeedback('æµ·æ³ãƒ‡ãƒ¼ã‚¿ã‚’æ›´æ–°ä¸­...');
            updateSeaConditions();
        }

        function refreshWeatherData() {
            showRefreshFeedback('æ°—è±¡ãƒ‡ãƒ¼ã‚¿ã‚’æ›´æ–°ä¸­...');
            updateWeatherData();
        }

        function refreshDivingIndex() {
            showRefreshFeedback('ãƒ€ã‚¤ãƒ“ãƒ³ã‚°æŒ‡æ¨™ã‚’æ›´æ–°ä¸­...');
            updateDivingIndex();
        }

        function refreshForecast() {
            showRefreshFeedback('äºˆæ¸¬ãƒ‡ãƒ¼ã‚¿ã‚’æ›´æ–°ä¸­...');
            updateForecastData();
        }

        // æ›´æ–°ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯
        function showRefreshFeedback(message) {
            const notification = document.createElement('div');
            notification.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                padding: 15px 20px;
                background: #0369a1;
                color: white;
                border-radius: 8px;
                box-shadow: 0 4px 12px rgba(0,0,0,0.15);
                z-index: 1000;
                transform: translateX(100%);
                transition: transform 0.3s ease;
            `;
            notification.textContent = message;
            
            document.body.appendChild(notification);
            
            setTimeout(() => {
                notification.style.transform = 'translateX(0)';
            }, 100);
            
            setTimeout(() => {
                notification.style.transform = 'translateX(100%)';
                setTimeout(() => {
                    if (notification.parentNode) {
                        notification.parentNode.removeChild(notification);
                    }
                }, 300);
            }, 2000);
        }

        // ã‚¢ãƒ©ãƒ¼ãƒˆåˆ‡ã‚Šæ›¿ãˆ
        function toggleAlert(toggle) {
            toggle.classList.toggle('active');
            const label = toggle.parentNode.querySelector('.alert-label').textContent;
            const isActive = toggle.classList.contains('active');
            
            console.log(`${label}: ${isActive ? 'æœ‰åŠ¹' : 'ç„¡åŠ¹'}`);
            
            // å®Ÿéš›ã®å®Ÿè£…ã§ã¯APIã«è¨­å®šã‚’ä¿å­˜
            saveAlertSetting(label, isActive);
        }

        // ã‚¢ãƒ©ãƒ¼ãƒˆè¨­å®šä¿å­˜
        function saveAlertSetting(alertType, enabled) {
            // å®Ÿéš›ã®å®Ÿè£…ã§ã¯APIã‚’å‘¼ã³å‡ºã—
            console.log(`ã‚¢ãƒ©ãƒ¼ãƒˆè¨­å®šä¿å­˜: ${alertType} = ${enabled}`);
        }

        // ã‚¢ãƒ©ãƒ¼ãƒˆè¨­å®šèª­ã¿è¾¼ã¿
        function loadAlertSettings() {
            // å®Ÿéš›ã®å®Ÿè£…ã§ã¯APIã‹ã‚‰è¨­å®šã‚’èª­ã¿è¾¼ã¿
            console.log('ã‚¢ãƒ©ãƒ¼ãƒˆè¨­å®šã‚’èª­ã¿è¾¼ã¿ä¸­...');
        }

        // ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã‚³ãƒ”ãƒ¼
        function copyToClipboard(text) {
            navigator.clipboard.writeText(text).then(() => {
                showCopyFeedback();
            }).catch(err => {
                console.error('ã‚³ãƒ”ãƒ¼ã«å¤±æ•—ã—ã¾ã—ãŸ:', err);
            });
        }

        function showCopyFeedback() {
            const feedback = document.createElement('div');
            feedback.style.cssText = `
                position: fixed;
                top: 50%;
                left: 50%;
                transform: translate(-50%, -50%);
                padding: 10px 20px;
                background: #10b981;
                color: white;
                border-radius: 6px;
                z-index: 1001;
                font-size: 0.9rem;
            `;
            feedback.textContent = 'ã‚³ãƒ”ãƒ¼ã—ã¾ã—ãŸï¼';
            
            document.body.appendChild(feedback);
            
            setTimeout(() => {
                if (feedback.parentNode) {
                    feedback.parentNode.removeChild(feedback);
                }
            }, 1500);
        }

        // ãƒ‡ãƒ¼ã‚¿å“è³ªç›£è¦–
        function monitorDataQuality() {
            setInterval(() => {
                // ãƒ‡ãƒ¼ã‚¿å“è³ªã®è¨ˆç®—ã¨UIæ›´æ–°
                const quality = calculateDataQuality();
                updateQualityIndicator(quality);
            }, 30000); // 30ç§’ã”ã¨
        }

        function calculateDataQuality() {
            // ç°¡æ˜“çš„ãªå“è³ªè¨ˆç®—
            const factors = {
                apiResponseTime: 0.25,
                dataFreshness: 0.30,
                sourceAvailability: 0.25,
                dataConsistency: 0.20
            };
            
            const scores = {
                apiResponseTime: Math.random() * 0.2 + 0.8,
                dataFreshness: Math.random() * 0.15 + 0.85,
                sourceAvailability: Math.random() * 0.1 + 0.9,
                dataConsistency: Math.random() * 0.1 + 0.9
            };
            
            let totalScore = 0;
            Object.keys(factors).forEach(key => {
                totalScore += factors[key] * scores[key];
            });
            
            return Math.round(totalScore * 100);
        }

        function updateQualityIndicator(quality) {
            const qualityFill = document.querySelector('.quality-fill');
            const qualityPercentage = document.querySelector('.quality-percentage');
            
            if (qualityFill && qualityPercentage) {
                qualityFill.style.width = `${quality}%`;
                qualityPercentage.textContent = `${quality}%`;
                
                // è‰²ã®å¤‰æ›´
                if (quality >= 90) {
                    qualityFill.style.background = 'linear-gradient(135deg, #10b981, #059669)';
                } else if (quality >= 70) {
                    qualityFill.style.background = 'linear-gradient(135deg, #f59e0b, #d97706)';
                } else {
                    qualityFill.style.background = 'linear-gradient(135deg, #ef4444, #dc2626)';
                }
            }
        }

        // äºˆæ¸¬ãƒ‡ãƒ¼ã‚¿æ›´æ–°
        function updateForecastData() {
            const timeline = document.getElementById('forecast-timeline');
            
            // å®Ÿéš›ã®å®Ÿè£…ã§ã¯APIã‹ã‚‰äºˆæ¸¬ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—
            console.log('äºˆæ¸¬ãƒ‡ãƒ¼ã‚¿ã‚’æ›´æ–°ä¸­...');
        }

        // ç·Šæ€¥æ°—è±¡ã‚¢ãƒ©ãƒ¼ãƒˆè¡¨ç¤º
        function showWeatherAlert(alertData) {
            const alert = document.createElement('div');
            alert.style.cssText = `
                position: fixed;
                top: 0;
                left: 0;
                right: 0;
                background: #ef4444;
                color: white;
                padding: 15px;
                text-align: center;
                font-weight: 600;
                z-index: 1002;
                transform: translateY(-100%);
                transition: transform 0.3s ease;
            `;
            alert.innerHTML = `
                <i class="fas fa-exclamation-triangle"></i>
                ç·Šæ€¥æ°—è±¡è­¦å ±: ${alertData.message}
                <button onclick="this.parentNode.remove()" style="float: right; background: none; border: none; color: white; cursor: pointer; font-size: 1.2rem;">Ã—</button>
            `;
            
            document.body.appendChild(alert);
            
            setTimeout(() => {
                alert.style.transform = 'translateY(0)';
            }, 100);
            
            // 10ç§’å¾Œã«è‡ªå‹•æ¶ˆå»
            setTimeout(() => {
                if (alert.parentNode) {
                    alert.style.transform = 'translateY(-100%)';
                    setTimeout(() => {
                        if (alert.parentNode) {
                            alert.parentNode.removeChild(alert);
                        }
                    }, 300);
                }
            }, 10000);
        }
    </script>
</body>
</html>