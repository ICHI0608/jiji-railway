# ãƒ€ã‚¤ãƒ“ãƒ³ã‚°ã‚¯ãƒªã‚¨ã‚¤ã‚¿ãƒ¼ç´¹ä»‹ã‚·ã‚¹ãƒ†ãƒ  æŠ€è¡“ä»•æ§˜æ›¸ v1.0

**ä½œæˆæ—¥**: 2025å¹´8æœˆ10æ—¥  
**å¯¾è±¡ã‚·ã‚¹ãƒ†ãƒ **: Dive Buddy's ãƒ€ã‚¤ãƒ“ãƒ³ã‚°ã‚¯ãƒªã‚¨ã‚¤ã‚¿ãƒ¼ç´¹ä»‹æ©Ÿèƒ½  
**ãƒãƒ¼ã‚¸ãƒ§ãƒ³**: 1.0

## ğŸ“‹ ã‚·ã‚¹ãƒ†ãƒ æ¦‚è¦

### **ç›®çš„**
ãƒ€ã‚¤ãƒ“ãƒ³ã‚°æ„›å¥½å®¶å‘ã‘ã«ã€æŠ€è¡“è§£èª¬ãƒ»æµ·ä¸­æ’®å½±ãƒ»æ—…è¡Œæƒ…å ±ã‚’æä¾›ã™ã‚‹ã‚¯ãƒªã‚¨ã‚¤ã‚¿ãƒ¼ã‚’çµ±åˆçš„ã«ç´¹ä»‹ã—ã€YouTubeå‹•ç”»ã¨ã®é€£æºã«ã‚ˆã£ã¦ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ãªã‚³ãƒ³ãƒ†ãƒ³ãƒ„é…ä¿¡ã‚’å®Ÿç¾ã™ã‚‹ã€‚

### **å¯¾è±¡ãƒ¦ãƒ¼ã‚¶ãƒ¼**
- ãƒ€ã‚¤ãƒ“ãƒ³ã‚°åˆå¿ƒè€…ã€œä¸Šç´šè€…
- æ°´ä¸­æ’®å½±æ„›å¥½å®¶  
- æ²–ç¸„ãƒ»é›¢å³¶ãƒ€ã‚¤ãƒ“ãƒ³ã‚°æ—…è¡Œè¨ˆç”»è€…
- ãƒ€ã‚¤ãƒ“ãƒ³ã‚°ãƒ—ãƒ­é¤Šæˆå¿—å‘è€…

## ğŸ—ï¸ ã‚·ã‚¹ãƒ†ãƒ æ§‹æˆ

### **ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£å›³**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Frontend UI   â”‚â—„â”€â”€â–ºâ”‚   Express.js     â”‚â—„â”€â”€â–ºâ”‚  YouTube API    â”‚
â”‚  (Vanilla JS)   â”‚    â”‚   Server         â”‚    â”‚     v3          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                        â”‚                        â”‚
         â”‚                        â–¼                        â”‚
         â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚
         â”‚              â”‚   Static JSON    â”‚               â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚      Data        â”‚               â”‚
                        â”‚  (Creators DB)   â”‚               â”‚
                        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚
                                 â”‚                         â”‚
                                 â–¼                         â”‚
                        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚
                        â”‚ Supabase/Rails   â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚   Production     â”‚
                        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ¯ æ©Ÿèƒ½ä»•æ§˜

### **1. ã‚¯ãƒªã‚¨ã‚¤ã‚¿ãƒ¼ä¸€è¦§è¡¨ç¤º**

#### **è¡¨ç¤ºé …ç›®**
| é …ç›® | ãƒ‡ãƒ¼ã‚¿å‹ | å¿…é ˆ | èª¬æ˜ |
|------|----------|------|------|
| id | string | âœ… | ä¸€æ„è­˜åˆ¥å­ |
| name | string | âœ… | ã‚¯ãƒªã‚¨ã‚¤ã‚¿ãƒ¼å |
| channelHandle | string | âœ… | @ãƒãƒ³ãƒ‰ãƒ«å |
| channelId | string | âœ… | ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ID |
| platform | enum | âœ… | youtube/instagram |
| subscriberCount | number | âœ… | ç™»éŒ²è€…æ•° |
| videoCount/postCount | number | âœ… | ã‚³ãƒ³ãƒ†ãƒ³ãƒ„æ•° |
| specialties | array | âœ… | å°‚é–€åˆ†é‡ã‚¿ã‚° |
| targetAudience | string | âœ… | å¯¾è±¡ãƒ¦ãƒ¼ã‚¶ãƒ¼å±¤ |
| region | string | âœ… | æ´»å‹•åœ°åŸŸ |
| description | string | âœ… | èª¬æ˜æ–‡ |

#### **ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°æ©Ÿèƒ½**
```javascript
// 8ã‚«ãƒ†ã‚´ãƒªãƒ¼ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°å®Ÿè£…
const categories = [
  'beginner_friendly',    // åˆå¿ƒè€…å‘ã‘
  'technical_diving',     // ãƒ†ã‚¯ãƒ‹ã‚«ãƒ«ãƒ€ã‚¤ãƒ“ãƒ³ã‚°  
  'marine_life',         // æµ·ä¸­ç”Ÿç‰©
  'equipment_review',    // å™¨æãƒ¬ãƒ“ãƒ¥ãƒ¼
  'underwater_photography', // æ°´ä¸­æ’®å½±
  'professional_training',  // ãƒ—ãƒ­é¤Šæˆ
  'regional_guide',      // åœ°åŸŸã‚¬ã‚¤ãƒ‰
  'travel_deals'         // æ—…è¡Œãƒ»ã‚»ãƒ¼ãƒ«æƒ…å ±
];
```

### **2. YouTubeå‹•ç”»çµ±åˆ**

#### **APIä»•æ§˜**
```javascript
// æœ€æ–°å‹•ç”»å–å¾—
GET /api/creator-videos?creatorId={id}&type=latest&maxResults=5

// äººæ°—å‹•ç”»å–å¾—  
GET /api/creator-videos?creatorId={id}&type=popular&maxResults=3

// ãƒ¬ã‚¹ãƒãƒ³ã‚¹å½¢å¼
{
  "success": boolean,
  "creatorId": string,
  "creatorName": string,
  "type": "latest"|"popular",
  "videos": [
    {
      "videoId": string,
      "title": string,
      "description": string,
      "publishedAt": string (ISO8601),
      "thumbnail": string (URL),
      "url": string,
      "viewCount": number (optional)
    }
  ]
}
```

#### **YouTube Data API v3 çµ±åˆ**
```javascript
class YouTubeAPI {
  constructor() {
    this.apiKey = process.env.YOUTUBE_API_KEY;
    this.baseURL = 'https://www.googleapis.com/youtube/v3';
  }

  async getLatestVideos(channelId, maxResults = 3) {
    const response = await axios.get(`${this.baseURL}/search`, {
      params: {
        part: 'snippet',
        channelId: channelId,
        maxResults: maxResults,
        order: 'date',
        type: 'video',
        key: this.apiKey
      },
      headers: {
        'Referer': 'https://dive-buddys.com'
      }
    });
    // ... data processing
  }
}
```

## ğŸ“ ãƒ•ã‚¡ã‚¤ãƒ«æ§‹æˆ

```
/src
â”œâ”€â”€ youtube-api.js              # YouTube APIçµ±åˆã‚¯ãƒ©ã‚¹
â””â”€â”€ server.js                  # APIã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆå®Ÿè£…

/data  
â”œâ”€â”€ diving-creators.json       # ã‚¯ãƒªã‚¨ã‚¤ã‚¿ãƒ¼ãƒã‚¹ã‚¿ãƒ¼ãƒ‡ãƒ¼ã‚¿
â””â”€â”€ okinawa-councils-cooperatives.json # å”è­°ä¼šæƒ…å ±

/public
â””â”€â”€ diving-creators/
    â””â”€â”€ index.html             # ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰UI

/docs
â”œâ”€â”€ task_completion_record_v2.0.md    # ä½œæ¥­è¨˜éŒ²
â”œâ”€â”€ diving_creators_system_spec_v1.0.md # æœ¬ä»•æ§˜æ›¸
â””â”€â”€ YOUTUBE_API_SETUP.md       # APIè¨­å®šæ‰‹é †
```

## ğŸ¨ UI/UX ä»•æ§˜

### **ãƒ‡ã‚¶ã‚¤ãƒ³ã‚·ã‚¹ãƒ†ãƒ **
```css
/* Design Tokensä½¿ç”¨ */
:root {
  --color-primary: #2563eb;
  --color-primary-dark: #1d4ed8;
  --spacing-4: 1rem;
  --border-radius-lg: 0.5rem;
  --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
  --transition-base: all 0.2s ease-in-out;
}
```

### **ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ãƒ–ãƒ¬ãƒ¼ã‚¯ãƒã‚¤ãƒ³ãƒˆ**
```css
/* ãƒ¢ãƒã‚¤ãƒ«: ~768px */
@media (max-width: 768px) {
  .creators-hero h1 { font-size: var(--font-size-3xl); }
  .creator-info { flex-direction: column; }
  .videos-grid { grid-template-columns: 1fr; }
}

/* ã‚¿ãƒ–ãƒ¬ãƒƒãƒˆ: 769px~1024px */
/* ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—: 1025px~ */
```

### **ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆæ§‹é€ **
```html
<!-- Creator Card Component -->
<div class="creator-card" data-creator-id="{id}">
  <div class="creator-header">
    <div class="creator-info">
      <img class="creator-avatar" />
      <div class="creator-details">
        <h3>{name}</h3>
        <div class="creator-stats">
          <span><i class="fas fa-users"></i> {subscriberCount}</span>
          <span><i class="fas fa-video"></i> {videoCount}</span>
          <span><i class="fas fa-map-marker-alt"></i> {region}</span>
        </div>
      </div>
    </div>
  </div>
  
  <div class="creator-description">{description}</div>
  
  <div class="creator-tags">
    <!-- specialty tags -->
  </div>
  
  <div class="videos-section">
    <div class="videos-tabs">
      <button class="video-tab active" data-tab="latest">æœ€æ–°å‹•ç”»</button>
      <button class="video-tab" data-tab="popular">äººæ°—å‹•ç”»ãƒ™ã‚¹ãƒˆ3</button>
    </div>
    <div class="videos-content" id="videos-{id}">
      <!-- dynamic video content -->
    </div>
  </div>
</div>
```

## ğŸ” ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ä»•æ§˜

### **API ã‚­ãƒ¼ç®¡ç†**
```javascript
// ç’°å¢ƒå¤‰æ•° + ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯è¨­å®š
this.apiKey = process.env.YOUTUBE_API_KEY || '[REDACTED_GOOGLE_API_KEY]';

// Google Cloud Console HTTP Refereråˆ¶é™
const allowedReferrers = [
  'https://dive-buddys.com/*',
  'https://www.dive-buddys.com/*', 
  'http://localhost:3000/*',
  'https://jiji-diving-bot-production.up.railway.app/*'
];
```

### **ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°**
```javascript
// APIã‚¨ãƒ©ãƒ¼å‡¦ç†
try {
  const response = await youtube.getLatestVideos(channelId, 5);
} catch (error) {
  console.error('YouTube API Error:', error.message);
  
  // ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ•ãƒ¬ãƒ³ãƒ‰ãƒªãƒ¼ãªã‚¨ãƒ©ãƒ¼è¡¨ç¤º
  container.innerHTML = `
    <div class="error-message">
      å‹•ç”»æƒ…å ±ã®èª­ã¿è¾¼ã¿ã«å¤±æ•—ã—ã¾ã—ãŸã€‚
    </div>
  `;
}
```

## ğŸ“Š ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ä»•æ§˜

### **APIä½¿ç”¨é‡æœ€é©åŒ–**
```javascript
// YouTube API Quotaç®¡ç†
const DAILY_QUOTA = 10000;     // 1æ—¥ã®åˆ¶é™
const SEARCH_COST = 100;       // æ¤œç´¢1å›ã®ã‚³ã‚¹ãƒˆ
const VIDEO_DETAIL_COST = 1;   // å‹•ç”»è©³ç´°1å›ã®ã‚³ã‚¹ãƒˆ

// åŠ¹ç‡çš„ãªãƒãƒƒãƒå‡¦ç†
const videoIds = videos.map(v => v.id.videoId).join(',');
const detailResponse = await this.getVideoDetails(videoIds);
```

### **ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰æœ€é©åŒ–**
```javascript
// é…å»¶èª­ã¿è¾¼ã¿å¯¾å¿œ
<img src="placeholder.jpg" data-src="actual-image.jpg" loading="lazy" />

// çŠ¶æ…‹ç®¡ç†ã«ã‚ˆã‚‹ç„¡é§„ãªAPIã‚³ãƒ¼ãƒ«é˜²æ­¢
if (this.cache[cacheKey] && this.isValidCache(cacheKey)) {
  return this.cache[cacheKey];
}
```

## ğŸ§ª ãƒ†ã‚¹ãƒˆä»•æ§˜

### **å‹•ä½œç¢ºèªé …ç›®**
```javascript
// ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆé …ç›®
describe('YouTubeAPI', () => {
  test('getLatestVideos returns correct format', async () => {
    const videos = await youtube.getLatestVideos('UCW8TXV8hY177uVSFuVOGg1A', 3);
    expect(videos).toHaveLength(3);
    expect(videos[0]).toHaveProperty('videoId');
    expect(videos[0]).toHaveProperty('title');
    expect(videos[0]).toHaveProperty('url');
  });
});
```

### **çµ±åˆãƒ†ã‚¹ãƒˆ**
```bash
# APIæ¥ç¶šãƒ†ã‚¹ãƒˆ
curl -H "Referer: https://dive-buddys.com" \
  "https://www.googleapis.com/youtube/v3/search?part=snippet&q=diving&maxResults=1&type=video&key=API_KEY"

# ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆãƒ†ã‚¹ãƒˆ  
curl "http://localhost:3000/api/diving-creators"
curl "http://localhost:3000/api/creator-videos?creatorId=creator_001&type=latest"
```

## ğŸ“ˆ ç›£è¦–ãƒ»é‹ç”¨ä»•æ§˜

### **ãƒ­ã‚°å‡ºåŠ›**
```javascript
// æ§‹é€ åŒ–ãƒ­ã‚°
console.log('YouTube API Request:', {
  timestamp: new Date().toISOString(),
  channelId: channelId,
  requestType: type,
  resultCount: videos.length,
  quotaUsed: estimatedQuotaUsage
});
```

### **ãƒ¡ãƒˆãƒªã‚¯ã‚¹åé›†**
- APIä½¿ç”¨é‡ï¼ˆæ—¥æ¬¡ãƒ»æœˆæ¬¡ï¼‰
- ã‚¨ãƒ©ãƒ¼ç‡ï¼ˆãƒãƒ£ãƒ³ãƒãƒ«åˆ¥ãƒ»ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆåˆ¥ï¼‰
- ãƒ¬ã‚¹ãƒãƒ³ã‚¹æ™‚é–“ï¼ˆå¹³å‡ãƒ»P95ï¼‰
- ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¨ãƒ³ã‚²ãƒ¼ã‚¸ãƒ¡ãƒ³ãƒˆï¼ˆãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ä½¿ç”¨ç‡ãƒ»å‹•ç”»ã‚¯ãƒªãƒƒã‚¯ç‡ï¼‰

## ğŸ”„ ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼

### **åˆæœŸè¡¨ç¤ºãƒ•ãƒ­ãƒ¼**
```mermaid
sequenceDiagram
    participant U as User
    participant F as Frontend
    participant S as Server
    participant Y as YouTube API
    participant J as JSON Data

    U->>F: ã‚¢ã‚¯ã‚»ã‚¹ (/diving-creators)
    F->>S: GET /api/diving-creators
    S->>J: Load creators.json
    J-->>S: Return creators data
    S-->>F: Return JSON response
    F->>F: Render creator cards
    F->>F: Setup filter buttons
    
    U->>F: Click video tab
    F->>S: GET /api/creator-videos?creatorId=xxx&type=latest
    S->>Y: YouTube API request
    Y-->>S: Return video data
    S-->>F: Return formatted videos
    F->>F: Render video grid
```

## ğŸš€ ãƒ‡ãƒ—ãƒ­ã‚¤ä»•æ§˜

### **æœ¬ç•ªç’°å¢ƒ**
- **Platform**: Railway
- **Domain**: https://dive-buddys.com
- **SSL**: è‡ªå‹•å–å¾—ãƒ»æ›´æ–°
- **Environment Variables**:
  ```bash
  YOUTUBE_API_KEY=[REDACTED_GOOGLE_API_KEY]
  NODE_ENV=production
  ```

### **CI/CD ãƒ•ãƒ­ãƒ¼**
1. GitHub push to main branch
2. Railway auto-deployment trigger
3. Build & test execution
4. Production deployment
5. Health check verification

## ğŸ“‹ ä»Šå¾Œã®æ‹¡å¼µè¨ˆç”»

### **Phase 2.1 - ãƒãƒ£ãƒ³ãƒãƒ«å®Œå…¨çµ±åˆ**
- æ®‹ã‚Š3YouTubeãƒãƒ£ãƒ³ãƒãƒ«IDèª¿æŸ»ãƒ»çµ±åˆ
- å…¨ã‚¯ãƒªã‚¨ã‚¤ã‚¿ãƒ¼å‹•ç”»å–å¾—æ©Ÿèƒ½å®Œæˆ

### **Phase 2.2 - é«˜åº¦æ©Ÿèƒ½**
- å‹•ç”»ã‚­ãƒ£ãƒƒã‚·ãƒ¥æ©Ÿèƒ½ï¼ˆAPIç¯€ç´„ï¼‰
- ãŠæ°—ã«å…¥ã‚Šã‚¯ãƒªã‚¨ã‚¤ã‚¿ãƒ¼æ©Ÿèƒ½
- æ–°å‹•ç”»é€šçŸ¥æ©Ÿèƒ½

### **Phase 3.0 - AIçµ±åˆ**
- ãƒ¦ãƒ¼ã‚¶ãƒ¼å—œå¥½åˆ†æ
- ãƒ‘ãƒ¼ã‚½ãƒŠãƒ©ã‚¤ã‚ºãƒ‰æ¨è–¦
- è‡ªå‹•ã‚³ãƒ³ãƒ†ãƒ³ãƒ„åˆ†é¡

---

**ä»•æ§˜ä½œæˆè€…**: Claude Code  
**æ‰¿èªè€…**: ã‚·ã‚¹ãƒ†ãƒ ç®¡ç†è€…  
**æ¬¡å›ãƒ¬ãƒ“ãƒ¥ãƒ¼äºˆå®š**: 2025å¹´9æœˆ10æ—¥